{"version":3,"sources":["../../../js/curtains.min.js"],"names":["Curtains","t","this","planes","renderTargets","shaderPasses","_imageCache","_drawStacks","opaque","length","programs","order","transparent","renderPasses","scenePasses","_drawingEnabled","_forceRender","_autoResize","autoResize","_autoRender","autoRender","_watchScroll","watchScroll","pixelRatio","window","devicePixelRatio","renderingScale","isNaN","parseFloat","_renderingScale","Math","max","min","premultipliedAlpha","alpha","antialias","productionMode","production","container","setContainer","prototype","document","getElementById","Element","_init","glCanvas","createElement","gl","getContext","_isWebGL2","_onErrorCallback","_getExtensions","_glState","currentProgramID","currentBuffersID","setDepth","frameBufferID","scenePassIndex","cullFace","flipY","_contextLostHandler","_contextLost","bind","addEventListener","_contextRestoredHandler","_contextRestored","_scrollManager","handler","_scroll","shouldWatch","xOffset","pageXOffset","yOffset","pageYOffset","lastXDelta","lastYDelta","passive","setPixelRatio","_resizeHandler","resize","_readyToDraw","_extensions","EXT_color_buffer_float","getExtension","OES_texture_float_linear","WEBGL_lose_context","OES_vertex_array_object","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_element_index_uint","OES_standard_derivatives","EXT_sRGB","WEBGL_depth_texture","WEBGL_draw_buffers","e","_setSize","getBoundingClientRect","_boundingRect","width","height","top","left","navigator","userAgent","match","i","test","MSStream","offsetTop","scrollTop","offsetParent","style","floor","viewport","drawingBufferWidth","drawingBufferHeight","getBoundingRect","_canDraw","planeResize","needRender","setTimeout","_onAfterResizeCallback","x","y","updateScrollValues","updateScrollPosition","_onScrollCallback","s","getScrollDeltas","getScrollValues","enableDrawing","disableDrawing","preventDefault","_animationFrameID","cancelAnimationFrame","_onContextLostCallback","restoreContext","_setBlendFunc","_setDepth","_restoreContext","_onContextRestoredCallback","_animate","dispose","_isDestroying","removePlane","removeShaderPass","removeRenderTarget","deleteProgram","program","setInterval","clearInterval","_clear","removeEventListener","loseContext","removeChild","_createShader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","VERTEX_SHADER","r","getShaderSource","split","a","join","_isEqualShader","localeCompare","_setupProgram","vsCode","fsCode","shareProgram","_useExistingShaders","_createProgram","_type","_useNewShaders","vs","vertexShader","fs","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteShader","id","type","push","_useProgram","useProgram","addPlane","Plane","_usedProgram","_transparent","_dispose","uuid","splice","index","unshift","_stackPlane","includes","addRenderTarget","RenderTarget","_shaderPass","target","addShaderPass","ShaderPass","renderTarget","_isScenePass","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","_bindFrameBuffer","bindFramebuffer","FRAMEBUFFER","_frameBuffer","_size","_shouldClear","depthTest","enable","DEPTH_TEST","disable","BLEND","blendFuncSeparate","ONE","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","_setFaceCulling","CULL_FACE","FRONT","BACK","_generateUUID","replace","random","toString","toUpperCase","_multiplyMatrix","Float32Array","_scaleMatrix","_composeMatrixFromOrigin","n","o","h","u","l","_","c","d","p","g","f","m","v","P","b","C","T","S","z","w","R","M","E","B","D","F","A","L","_applyMatrixToPoint","appendChild","render","requestAnimationFrame","_drawPlaneStack","_drawPlane","_onRenderCallback","clearDepth","onAfterResize","onError","onContextLost","onContextRestored","onRender","onScroll","BasePlane","_curtains","htmlElement","_initBasePlane","_updatePerspectiveMatrix","_updateMVMatrix","_definition","parseInt","widthSegments","heightSegments","buffersID","_depthTest","_activeTextures","uniforms","name","value","lastValue","_setupShaders","vertexShaderCode","fragmentShaderCode","_loadingManager","sourcesLoaded","initSourcesToLoad","complete","images","videos","canvases","textures","crossOrigin","userData","_shouldDraw","visible","_setAttributes","_setDocumentSizes","_setUniforms","_initializeBuffers","_getDefaultVS","_getDefaultFS","vertexShaderID","getAttribute","fragmentShaderID","innerHTML","_handleUniformSetting","uniform1i","uniform1iv","uniform1f","uniform1fv","uniform2i","uniform2iv","uniform2f","uniform2fv","uniform3i","uniform3iv","uniform3f","uniform3fv","uniform4i","uniform4iv","uniform4f","uniform4fv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","ACTIVE_UNIFORMS","getActiveUniform","SAMPLER_2D","location","getUniformLocation","Array","isArray","constructor","_updateUniforms","JSON","stringify","_attributes","vertexPosition","getAttribLocation","textureCoord","_setPlaneVertices","_geometry","vertices","_material","uvs","bufferInfos","createBuffer","itemSize","numberOfItems","_vao","createVertexArray","bindVertexArray","createVertexArrayOES","bindVertexArrayOES","enableVertexAttribArray","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","_matrices","_depthBuffer","_createFrameBuffer","setRenderTarget","_setTextureUniforms","setFromTexture","_initMatrices","setPerspective","_fov","_nearPlane","_farPlane","_applyWorldPositions","right","bottom","_getNearPlaneIntersections","slice","mVPMatrix","_getWorldCoords","abs","getWebGLBoundingRect","_getWebGLDrawRect","drawCheckMargins","createTexture","sampler","Texture","fromTexture","isFBOTexture","_isPlaneReady","_onReadyCallback","loadSources","loadSource","tagName","loadImage","loadVideo","loadCanvas","_sourceLoadError","_getTextureFromCache","source","src","_onSourceLoadedHandler","_onSourceLoaded","decode","then","catch","preload","muted","loop","_onVideoLoadedData","readyState","HAVE_FUTURE_DATA","load","loadImages","loadVideos","loadCanvases","playVideos","play","mouseToPlaneCoords","scale","_bindPlaneBuffers","_bindPlaneTexture","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","_sampler","texture","_setPerspectiveMatrix","_setMVMatrix","alwaysDraw","_drawTexture","drawArrays","TRIANGLES","_onAfterRenderCallback","deleteVertexArray","deleteVertexArrayOES","deleteBuffer","shift","onLoading","_onPlaneLoadingCallback","onReady","onAfterRender","call","_setInitParams","_initPositions","_initSources","Object","create","_initTransformValues","autoloadSources","fov","rotation","quaternion","relativeTranslation","_translation","transformOrigin","getElementsByTagName","_shouldDrawCheck","mvMatrix","matrix","pMatrix","resetPlane","updatePosition","_setWorldSizes","world","tan","PI","_cameraZPosition","_CSSPerspective","pow","setScale","setRotation","_setQuaternion","sin","cos","setTransformOrigin","_setTranslation","_documentToLocalSpace","setRelativePosition","round","_onLeaveViewCallback","_onReEnterViewCallback","isDrawn","enableDepthTest","moveToFront","onReEnterView","onLeaveView","shaderPass","_depth","depth","_minSize","minWidth","minHeight","_initRenderTarget","_bindDepthBuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","DEPTH_ATTACHMENT","_createFBOTexture","framebufferTexture2D","COLOR_ATTACHMENT0","createFramebuffer","createRenderbuffer","deleteFramebuffer","deleteRenderbuffer","_initShaderPassPlane","_parent","isActive","_textureMatrix","_willUpdate","shouldUpdate","_forceUpdate","_initFromTexture","_internalFormat","RGBA","_format","_textureType","UNSIGNED_BYTE","_texParameters","_flipY","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_ALIGNMENT","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texImage2D","Uint8Array","_sourceLoaded","_getSizes","_updateTextureMatrix","RGBA16F","HALF_FLOAT","HALF_FLOAT_OES","_setMipmaps","_originalTexture","setSource","naturalWidth","videoWidth","naturalHeight","videoHeight","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","generateMipmap","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_NEAREST","LINEAR","needUpdate","_update","parentWidth","parentHeight","sourceWidth","sourceHeight","HAVE_CURRENT_DATA","_restoreFromTexture","pause","removeAttribute","deleteTexture","module","exports"],"mappings":"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","sourcesContent":["/***\r\n * curtains.js v6.2.1\r\n * https://www.curtainsjs.com/\r\n *\r\n * @author: Martin Laxenaire\r\n * https://www.martin-laxenaire.fr/\r\n */\r\n\"use strict\";function Curtains(t){(this.planes=[],this.renderTargets=[],this.shaderPasses=[],this._imageCache=[],this._drawStacks={opaque:{length:0,programs:[],order:[]},transparent:{length:0,programs:[],order:[]},renderPasses:[],scenePasses:[]},this._drawingEnabled=!0,this._forceRender=!1,this._autoResize=t.autoResize,null!==this._autoResize&&void 0!==this._autoResize||(this._autoResize=!0),this._autoRender=t.autoRender,null!==this._autoRender&&void 0!==this._autoRender||(this._autoRender=!0),this._watchScroll=t.watchScroll,null!==this._watchScroll&&void 0!==this._watchScroll||(this._watchScroll=!0),this.pixelRatio=t.pixelRatio||window.devicePixelRatio||1,t.renderingScale=isNaN(t.renderingScale)?1:parseFloat(t.renderingScale),this._renderingScale=Math.max(.25,Math.min(1,t.renderingScale)),this.premultipliedAlpha=t.premultipliedAlpha||!1,this.alpha=t.alpha,null!==this.alpha&&void 0!==this.alpha||(this.alpha=!0),this.antialias=t.antialias,null!==this.antialias&&void 0!==this.antialias||(this.antialias=!0),this.productionMode=t.production||!1,\"string\"==typeof t)&&(console.warn(\"Since v4.0 you should use an object to pass your container and other parameters. Please refer to the docs: https://www.curtainsjs.com/documentation.html\"),t={container:t});t.container?this.setContainer(t.container):this.productionMode||console.warn(\"No container HTML element or ID provided. Use setContainer() method to set a container and initialize the WebGL context\")}Curtains.prototype.setContainer=function(t){if(t){if(\"string\"==typeof t){if(this.container=document.getElementById(t),!this.container)return void(this.productionMode||console.warn(\"No container HTML element or ID provided. WebGL context couldn't be created\"))}else t instanceof Element&&(this.container=t);this._init()}else this.productionMode||console.warn(\"No container HTML element or ID provided. WebGL context couldn't be created\")},Curtains.prototype._init=function(){this.glCanvas=document.createElement(\"canvas\");var t={alpha:this.alpha,premultipliedAlpha:this.premultipliedAlpha,antialias:this.antialias};if(this.gl=this.glCanvas.getContext(\"webgl2\",t),this._isWebGL2=!!this.gl,this.gl||(this.gl=this.glCanvas.getContext(\"webgl\",t)||this.glCanvas.getContext(\"experimental-webgl\",t)),!this.gl)return this.productionMode||console.warn(\"WebGL context could not be created\"),void(this._onErrorCallback&&this._onErrorCallback());this._getExtensions(),this._glState={currentProgramID:null,programs:[],currentBuffersID:0,setDepth:null,frameBufferID:null,scenePassIndex:null,cullFace:null,flipY:null},this._contextLostHandler=this._contextLost.bind(this),this.glCanvas.addEventListener(\"webglcontextlost\",this._contextLostHandler,!1),this._contextRestoredHandler=this._contextRestored.bind(this),this.glCanvas.addEventListener(\"webglcontextrestored\",this._contextRestoredHandler,!1),this._scrollManager={handler:this._scroll.bind(this,!0),shouldWatch:this._watchScroll,xOffset:window.pageXOffset,yOffset:window.pageYOffset,lastXDelta:0,lastYDelta:0},this._watchScroll&&window.addEventListener(\"scroll\",this._scrollManager.handler,{passive:!0}),this.setPixelRatio(this.pixelRatio,!1),this._resizeHandler=null,this._autoResize&&(this._resizeHandler=this.resize.bind(this,!0),window.addEventListener(\"resize\",this._resizeHandler,!1)),this._readyToDraw()},Curtains.prototype._getExtensions=function(){this._extensions=[],this._isWebGL2?(this._extensions.EXT_color_buffer_float=this.gl.getExtension(\"EXT_color_buffer_float\"),this._extensions.OES_texture_float_linear=this.gl.getExtension(\"OES_texture_float_linear\"),this._extensions.WEBGL_lose_context=this.gl.getExtension(\"WEBGL_lose_context\")):(this._extensions.OES_vertex_array_object=this.gl.getExtension(\"OES_vertex_array_object\"),this._extensions.OES_texture_float=this.gl.getExtension(\"OES_texture_float\"),this._extensions.OES_texture_float_linear=this.gl.getExtension(\"OES_texture_float_linear\"),this._extensions.OES_texture_half_float=this.gl.getExtension(\"OES_texture_half_float\"),this._extensions.OES_texture_half_float_linear=this.gl.getExtension(\"OES_texture_half_float_linear\"),this._extensions.OES_element_index_uint=this.gl.getExtension(\"OES_element_index_uint\"),this._extensions.OES_standard_derivatives=this.gl.getExtension(\"OES_standard_derivatives\"),this._extensions.EXT_sRGB=this.gl.getExtension(\"EXT_sRGB\"),this._extensions.WEBGL_depth_texture=this.gl.getExtension(\"WEBGL_depth_texture\"),this._extensions.WEBGL_draw_buffers=this.gl.getExtension(\"WEBGL_draw_buffers\"),this._extensions.WEBGL_lose_context=this.gl.getExtension(\"WEBGL_lose_context\"))},Curtains.prototype.setPixelRatio=function(t,e){this.pixelRatio=parseFloat(Math.max(t,1))||1,this.resize(e)},Curtains.prototype._setSize=function(){var t=this.container.getBoundingClientRect();this._boundingRect={width:t.width*this.pixelRatio,height:t.height*this.pixelRatio,top:t.top*this.pixelRatio,left:t.left*this.pixelRatio};var e=!!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/),i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(e&&i){this._boundingRect.top=function(t){for(var e=0;t&&!isNaN(t.offsetTop);)e+=t.offsetTop-t.scrollTop,t=t.offsetParent;return e}(this.container)*this.pixelRatio}this.glCanvas.style.width=Math.floor(this._boundingRect.width/this.pixelRatio)+\"px\",this.glCanvas.style.height=Math.floor(this._boundingRect.height/this.pixelRatio)+\"px\",this.glCanvas.width=Math.floor(this._boundingRect.width*this._renderingScale),this.glCanvas.height=Math.floor(this._boundingRect.height*this._renderingScale),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight),this._scrollManager.shouldWatch&&(this._scrollManager.xOffset=window.pageXOffset,this._scrollManager.yOffset=window.pageYOffset)},Curtains.prototype.getBoundingRect=function(){return this._boundingRect},Curtains.prototype.resize=function(t){this._setSize();for(var e=0;e<this.planes.length;e++)this.planes[e]._canDraw&&this.planes[e].planeResize();for(e=0;e<this.shaderPasses.length;e++)this.shaderPasses[e]._canDraw&&this.shaderPasses[e].planeResize();for(e=0;e<this.renderTargets.length;e++)this.renderTargets[e].resize();this.needRender();var i=this;setTimeout(function(){i._onAfterResizeCallback&&t&&i._onAfterResizeCallback()},0)},Curtains.prototype._scroll=function(){var t={x:window.pageXOffset,y:window.pageYOffset};if(this.updateScrollValues(t.x,t.y),this._scrollManager.shouldWatch){for(var e=0;e<this.planes.length;e++)this.planes[e].watchScroll&&this.planes[e].updateScrollPosition();this.needRender()}this._onScrollCallback&&this._onScrollCallback()},Curtains.prototype.updateScrollValues=function(t,e){var i=this._scrollManager.xOffset;this._scrollManager.xOffset=t,this._scrollManager.lastXDelta=i-this._scrollManager.xOffset;var s=this._scrollManager.yOffset;this._scrollManager.yOffset=e,this._scrollManager.lastYDelta=s-this._scrollManager.yOffset},Curtains.prototype.getScrollDeltas=function(){return{x:this._scrollManager.lastXDelta,y:this._scrollManager.lastYDelta}},Curtains.prototype.getScrollValues=function(){return{x:this._scrollManager.xOffset,y:this._scrollManager.yOffset}},Curtains.prototype.enableDrawing=function(){this._drawingEnabled=!0},Curtains.prototype.disableDrawing=function(){this._drawingEnabled=!1},Curtains.prototype.needRender=function(){this._forceRender=!0},Curtains.prototype._contextLost=function(t){t.preventDefault(),this._glState={currentProgramID:null,programs:[],currentBuffersID:0,setDepth:null,frameBufferID:null,scenePassIndex:null,cullFace:null,flipY:null},this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID);var e=this;setTimeout(function(){e._onContextLostCallback&&e._onContextLostCallback()},0)},Curtains.prototype.restoreContext=function(){this.gl&&this._extensions.WEBGL_lose_context?this._extensions.WEBGL_lose_context.restoreContext():this.productionMode||(this.gl?this._extensions.WEBGL_lose_context||console.warn(\"Could not restore context because the restore context extension is not defined\"):console.warn(\"Could not restore context because the context is not defined\"))},Curtains.prototype._contextRestored=function(){var t=this._drawingEnabled;this._drawingEnabled=!1,this._getExtensions(),this._setBlendFunc(),this._setDepth(!0),this._drawStacks={opaque:{length:0,programs:[],order:[]},transparent:{length:0,programs:[],order:[]},renderPasses:[],scenePasses:[]},this._imageCache=[];for(var e=0;e<this.renderTargets.length;e++)this.renderTargets[e]._restoreContext();for(e=0;e<this.planes.length;e++)this.planes[e]._restoreContext();for(e=0;e<this.shaderPasses.length;e++)this.shaderPasses[e]._restoreContext();this._onContextRestoredCallback&&this._onContextRestoredCallback(),this._drawingEnabled=t,this.needRender(),this._autoRender&&this._animate()},Curtains.prototype.dispose=function(){for(this._isDestroying=!0;this.planes.length>0;)this.removePlane(this.planes[0]);for(;this.shaderPasses.length>0;)this.removeShaderPass(this.shaderPasses[0]);for(;this.renderTargets.length>0;)this.removeRenderTarget(this.renderTargets[0]);for(var t=0;t<this._glState.programs.length;t++){var e=this._glState.programs[t];this.gl.deleteProgram(e.program)}this._glState={currentProgramID:null,programs:[],currentBuffersID:0,setDepth:null,frameBufferID:null,scenePassIndex:null,cullFace:null,flipY:null};var i=this,s=setInterval(function(){0===i.planes.length&&0===i.shaderPasses.length&&0===i.renderTargets.length&&(clearInterval(s),i._clear(),i._animationFrameID&&window.cancelAnimationFrame(i._animationFrameID),i._resizeHandler&&window.removeEventListener(\"resize\",i._resizeHandler,!1),i._watchScroll&&window.removeEventListener(\"scroll\",i._scrollManager.handler,{passive:!0}),i.glCanvas.removeEventListener(\"webgllost\",i._contextLostHandler,!1),i.glCanvas.removeEventListener(\"webglrestored\",i._contextRestoredHandler,!1),i.gl&&i._extensions.WEBGL_lose_context&&i._extensions.WEBGL_lose_context.loseContext(),i.glCanvas.width=i.glCanvas.width,i.gl=null,i.container.removeChild(i.glCanvas),i.container=null,i.glCanvas=null)},100)},Curtains.prototype._createShader=function(t,e){var i=this.gl.createShader(e);if(this.gl.shaderSource(i,t),this.gl.compileShader(i),!this.productionMode&&!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)){for(var s=e===this.gl.VERTEX_SHADER?\"vertex shader\":\"fragment shader\",r=this.gl.getShaderSource(i).split(\"\\n\"),a=0;a<r.length;a++)r[a]=a+1+\": \"+r[a];return r=r.join(\"\\n\"),console.warn(\"Errors occurred while compiling the\",s,\":\\n\",this.gl.getShaderInfoLog(i)),console.error(r),null}return i},Curtains.prototype._isEqualShader=function(t,e){var i=!1;return 0===t.localeCompare(e)&&(i=!0),i},Curtains.prototype._setupProgram=function(t,e,i){for(var s={},r=0;r<this._glState.programs.length;r++)if(this._isEqualShader(this._glState.programs[r].vsCode,t)&&this._isEqualShader(this._glState.programs[r].fsCode,e)){s=this._glState.programs[r];break}if(s.program){if(i.shareProgram)return s;var a=this._useExistingShaders(s);return this._createProgram(a,i._type)}return!!(a=this._useNewShaders(t,e))&&this._createProgram(a,i._type)},Curtains.prototype._useExistingShaders=function(t){return{vs:{vertexShader:t.vertexShader,vsCode:t.vsCode},fs:{fragmentShader:t.fragmentShader,fsCode:t.fsCode}}},Curtains.prototype._useNewShaders=function(t,e){var i=!0,s=this._createShader(t,this.gl.VERTEX_SHADER),r=this._createShader(e,this.gl.FRAGMENT_SHADER);return s&&r||(this.productionMode||console.warn(\"Unable to find or compile the vertex or fragment shader\"),i=!1),i?{vs:{vertexShader:s,vsCode:t},fs:{fragmentShader:r,fsCode:e}}:i},Curtains.prototype._createProgram=function(t,e){var i=this.gl,s=!0,r=i.createProgram();if(s&&(i.attachShader(r,t.vs.vertexShader),i.attachShader(r,t.fs.fragmentShader),i.linkProgram(r),this.productionMode||i.getProgramParameter(r,i.LINK_STATUS)||(console.warn(\"Unable to initialize the shader program.\"),s=!1),i.deleteShader(t.vs.vertexShader),i.deleteShader(t.fs.fragmentShader)),s){var a={id:this._glState.programs.length,vsCode:t.vs.vsCode,vertexShader:t.vs.vertexShader,fsCode:t.fs.fsCode,fragmentShader:t.fs.fragmentShader,program:r,type:e};return\"Plane\"===e&&(this._drawStacks.opaque.programs[\"program-\"+a.id]=[],this._drawStacks.transparent.programs[\"program-\"+a.id]=[]),this._glState.programs.push(a),a}return s},Curtains.prototype._useProgram=function(t){null!==this._glState.currentProgramID&&this._glState.currentProgramID===t.id||(this.gl.useProgram(t.program),this._glState.currentProgramID=t.id)},Curtains.prototype.addPlane=function(t,e){if(this.gl){if(!t||0===t.length)return this.productionMode||console.warn(\"The html element you specified does not currently exists in the DOM\"),this._onErrorCallback&&this._onErrorCallback(),!1;var i=new Curtains.Plane(this,t,e);return i._usedProgram?this.planes.push(i):i=!1,i}return this.productionMode||console.warn(\"Unable to create a plane. The WebGl context couldn't be created\"),this._onErrorCallback&&this._onErrorCallback(),null},Curtains.prototype.removePlane=function(t){t._canDraw=!1;var e,i=t._transparent?\"transparent\":\"opaque\";t&&t._dispose();for(var s=0;s<this.planes.length;s++)t.uuid===this.planes[s].uuid&&(e=s);t=null,this.planes[e]=null,this.planes.splice(e,1);for(s=0;s<this._glState.programs.length;s++)this._drawStacks.opaque.programs[\"program-\"+this._glState.programs[s].id]=[],this._drawStacks.transparent.programs[\"program-\"+this._glState.programs[s].id]=[];this._drawStacks.opaque.length=0,this._drawStacks.transparent.length=0;for(s=0;s<this.planes.length;s++){(t=this.planes[s]).index=s;var r=t._transparent?\"transparent\":\"opaque\";\"transparent\"===r?this._drawStacks[r].programs[\"program-\"+t._usedProgram.id].unshift(t.index):this._drawStacks[r].programs[\"program-\"+t._usedProgram.id].push(t.index),this._drawStacks[r].length++}for(s=0;s<this._drawStacks[i].order.length;s++){var a=this._drawStacks[i].order[s];0===this._drawStacks[i].programs[\"program-\"+a].length&&this._drawStacks[i].order.splice(s,1)}this.gl&&this._clear(),this._glState.currentBuffersID=0},Curtains.prototype._stackPlane=function(t){var e=t._transparent?\"transparent\":\"opaque\",i=this._drawStacks[e];\"transparent\"===e?(i.programs[\"program-\"+t._usedProgram.id].unshift(t.index),i.order.includes(t._usedProgram.id)||i.order.unshift(t._usedProgram.id)):(i.programs[\"program-\"+t._usedProgram.id].push(t.index),i.order.includes(t._usedProgram.id)||i.order.push(t._usedProgram.id)),i.length++},Curtains.prototype.addRenderTarget=function(t){return this.gl?new Curtains.RenderTarget(this,t):(this.productionMode||console.warn(\"Unable to create a render target. The WebGl context couldn't be created\"),this._onErrorCallback&&this._onErrorCallback(),null)},Curtains.prototype.removeRenderTarget=function(t){if(t._shaderPass)this.productionMode||console.warn(\"You're trying to remove a render target attached to a shader pass. You should remove that shader pass instead:\",t._shaderPass);else{for(var e=0;e<this.planes.length;e++)this.planes[e].target&&this.planes[e].target.uuid===t.uuid&&(this.planes[e].target=null);var i;for(e=0;e<this.renderTargets.length;e++)t.uuid===this.renderTargets[e].uuid&&(i=e);this.renderTargets[i]=null,this.renderTargets.splice(i,1),t&&t._dispose(),t=null,this.gl&&this._clear(),this._glState.currentBuffersID=0}},Curtains.prototype.addShaderPass=function(t){if(this.gl){var e=new Curtains.ShaderPass(this,t);return e._usedProgram?(t.renderTarget?this._drawStacks.renderPasses.push(e.index):this._drawStacks.scenePasses.push(e.index),this.shaderPasses.push(e)):e=!1,e}return this.productionMode||console.warn(\"Unable to create a shader pass. The WebGl context couldn't be created\"),this._onErrorCallback&&this._onErrorCallback(),null},Curtains.prototype.removeShaderPass=function(t){var e;t._canDraw=!1,t.target&&(t.target._shaderPass=null,this.removeRenderTarget(t.target),t.target=null);for(var i=0;i<this.shaderPasses.length;i++)t.uuid===this.shaderPasses[i].uuid&&(e=i);this.shaderPasses.splice(e,1),this._drawStacks.scenePasses=[],this._drawStacks.renderPasses=[];for(i=0;i<this.shaderPasses.length;i++)this.shaderPasses[i].index=i,this.shaderPasses[i]._isScenePass?this._drawStacks.scenePasses.push(this.shaderPasses[i].index):this._drawStacks.renderPasses.push(this.shaderPasses[i].index);0===this._drawStacks.scenePasses.length&&(this._glState.scenePassIndex=null),t&&t._dispose(),t=null,this.gl&&this._clear(),this._glState.currentBuffersID=0},Curtains.prototype._clear=function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)},Curtains.prototype._bindFrameBuffer=function(t,e){var i=null;t?(i=t.index)!==this._glState.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t._frameBuffer),this.gl.viewport(0,0,t._size.width,t._size.height),t._shouldClear&&!e&&this._clear()):null!==this._glState.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)),this._glState.frameBufferID=i},Curtains.prototype._setDepth=function(t){t&&!this._glState.depthTest?(this._glState.depthTest=t,this.gl.enable(this.gl.DEPTH_TEST)):!t&&this._glState.depthTest&&(this._glState.depthTest=t,this.gl.disable(this.gl.DEPTH_TEST))},Curtains.prototype._setBlendFunc=function(){var t=this.gl;t.enable(t.BLEND),this.premultipliedAlpha?t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA):t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)},Curtains.prototype._setFaceCulling=function(t){var e=this.gl;if(this._glState.cullFace!==t)if(this._glState.cullFace=t,\"none\"===t)e.disable(e.CULL_FACE);else{var i=\"front\"===t?e.FRONT:e.BACK;e.enable(e.CULL_FACE),e.cullFace(i)}},Curtains.prototype._generateUUID=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return(\"x\"==t?e:3&e|8).toString(16).toUpperCase()})},Curtains.prototype._multiplyMatrix=function(t,e){var i=new Float32Array(16);return i[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],i[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],i[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],i[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],i[4]=e[4]*t[0]+e[5]*t[4]+e[6]*t[8]+e[7]*t[12],i[5]=e[4]*t[1]+e[5]*t[5]+e[6]*t[9]+e[7]*t[13],i[6]=e[4]*t[2]+e[5]*t[6]+e[6]*t[10]+e[7]*t[14],i[7]=e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7]*t[15],i[8]=e[8]*t[0]+e[9]*t[4]+e[10]*t[8]+e[11]*t[12],i[9]=e[8]*t[1]+e[9]*t[5]+e[10]*t[9]+e[11]*t[13],i[10]=e[8]*t[2]+e[9]*t[6]+e[10]*t[10]+e[11]*t[14],i[11]=e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]*t[15],i[12]=e[12]*t[0]+e[13]*t[4]+e[14]*t[8]+e[15]*t[12],i[13]=e[12]*t[1]+e[13]*t[5]+e[14]*t[9]+e[15]*t[13],i[14]=e[12]*t[2]+e[13]*t[6]+e[14]*t[10]+e[15]*t[14],i[15]=e[12]*t[3]+e[13]*t[7]+e[14]*t[11]+e[15]*t[15],i},Curtains.prototype._scaleMatrix=function(t,e,i,s){var r=new Float32Array(16);return r[0]=e*t[0],r[1]=e*t[1],r[2]=e*t[2],r[3]=e*t[3],r[4]=i*t[4],r[5]=i*t[5],r[6]=i*t[6],r[7]=i*t[7],r[8]=s*t[8],r[9]=s*t[9],r[10]=s*t[10],r[11]=s*t[11],t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r},Curtains.prototype._composeMatrixFromOrigin=function(t,e,i,s){var r=new Float32Array(16),a=e[0],n=e[1],o=e[2],h=e[3],u=a+a,l=n+n,_=o+o,c=a*u,d=a*l,p=a*_,g=n*l,f=n*_,m=o*_,x=h*u,v=h*l,P=h*_,y=i.x,b=i.y,C=s.x,T=s.y,S=s.z,w=(1-(g+m))*y,R=(d+P)*y,M=(p-v)*y,E=(d-P)*b,B=(1-(c+m))*b,D=(f+x)*b,F=1*(p+v),A=1*(f-x),L=1*(1-(c+g));return r[0]=w,r[1]=R,r[2]=M,r[3]=0,r[4]=E,r[5]=B,r[6]=D,r[7]=0,r[8]=F,r[9]=A,r[10]=L,r[11]=0,r[12]=t.x+C-(w*C+E*T+F*S),r[13]=t.y+T-(R*C+B*T+A*S),r[14]=t.z+S-(M*C+D*T+L*S),r[15]=1,r},Curtains.prototype._applyMatrixToPoint=function(t,e){var i=[],s=t[0],r=t[1],a=t[2];i[0]=e[0]*s+e[4]*r+e[8]*a+e[12],i[1]=e[1]*s+e[5]*r+e[9]*a+e[13],i[2]=e[2]*s+e[6]*r+e[10]*a+e[14];var n=e[3]*s+e[7]*r+e[11]*a+e[15];return n=n||1,i[0]/=n,i[1]/=n,i[2]/=n,i},Curtains.prototype._readyToDraw=function(){this.container.appendChild(this.glCanvas),this._setBlendFunc(),this._setDepth(!0),console.log(\"curtains.js - v6.2\"),this._animationFrameID=null,this._autoRender&&this._animate()},Curtains.prototype._animate=function(){this.render(),this._animationFrameID=window.requestAnimationFrame(this._animate.bind(this))},Curtains.prototype._drawPlaneStack=function(t){for(var e=0;e<this._drawStacks[t].order.length;e++)for(var i=this._drawStacks[t].order[e],s=this._drawStacks[t].programs[\"program-\"+i],r=0;r<s.length;r++){var a=this.planes[s[r]];a&&a._drawPlane()}},Curtains.prototype.render=function(){if(this._drawingEnabled||this._forceRender){this._forceRender&&(this._forceRender=!1),this._onRenderCallback&&this._onRenderCallback(),this._clear(),this._drawStacks.scenePasses.length>0&&0===this._drawStacks.renderPasses.length&&(this._glState.scenePassIndex=0,this._bindFrameBuffer(this.shaderPasses[this._drawStacks.scenePasses[0]].target)),this._drawPlaneStack(\"opaque\"),this._drawStacks.transparent.length&&(this.gl.clearDepth(1),this.gl.clear(this.gl.DEPTH_BUFFER_BIT),this._drawPlaneStack(\"transparent\")),this._drawStacks.scenePasses.length>0&&this._drawStacks.renderPasses.length>0&&(this._glState.scenePassIndex=0,this._bindFrameBuffer(this.shaderPasses[this._drawStacks.scenePasses[0]].target));for(var t=0;t<this._drawStacks.renderPasses.length;t++){this.shaderPasses[this._drawStacks.renderPasses[t]]._drawPlane()}if(this._drawStacks.scenePasses.length>0)for(t=0;t<this._drawStacks.scenePasses.length;t++){this.shaderPasses[this._drawStacks.scenePasses[t]]._drawPlane()}}},Curtains.prototype.onAfterResize=function(t){return t&&(this._onAfterResizeCallback=t),this},Curtains.prototype.onError=function(t){return t&&(this._onErrorCallback=t),this},Curtains.prototype.onContextLost=function(t){return t&&(this._onContextLostCallback=t),this},Curtains.prototype.onContextRestored=function(t){return t&&(this._onContextRestoredCallback=t),this},Curtains.prototype.onRender=function(t){return t&&(this._onRenderCallback=t),this},Curtains.prototype.onScroll=function(t){return t&&(this._onScrollCallback=t),this},Curtains.BasePlane=function(t,e,i){this._type=this._type||\"BasicPlane\",this._curtains=t,this.htmlElement=e,this.uuid=this._curtains._generateUUID(),this._initBasePlane(i)},Curtains.BasePlane.prototype._initBasePlane=function(t){if(t||(t={}),this._canDraw=!1,this.shareProgram=t.shareProgram||!1,this._updatePerspectiveMatrix=!1,this._updateMVMatrix=!1,this._definition={width:parseInt(t.widthSegments)||1,height:parseInt(t.heightSegments)||1},this._definition.buffersID=\"ShaderPass\"===this._type?1:this._definition.width*this._definition.height+this._definition.width,this._depthTest=t.depthTest,null!==this._depthTest&&void 0!==this._depthTest||(this._depthTest=!0),this.cullFace=t.cullFace,\"back\"!==this.cullFace&&\"front\"!==this.cullFace&&\"none\"!==this.cullFace&&(this.cullFace=\"back\"),this._activeTextures=[],t.uniforms||(t.uniforms={}),this.uniforms={},t.uniforms)for(var e in t.uniforms){var i=t.uniforms[e];this.uniforms[e]={name:i.name,type:i.type,value:i.value,lastValue:i.value}}var s=this._setupShaders(t);return this._usedProgram=this._curtains._setupProgram(s.vertexShaderCode,s.fragmentShaderCode,this),this._loadingManager={sourcesLoaded:0,initSourcesToLoad:0,complete:!1},this.images=[],this.videos=[],this.canvases=[],this.textures=[],this.crossOrigin=t.crossOrigin||\"anonymous\",this.userData={},!!this._usedProgram&&(this._shouldDraw=!0,this.visible=!0,this._setAttributes(),this._setDocumentSizes(),this._setUniforms(),this._initializeBuffers(),this._canDraw=!0,this)},Curtains.BasePlane.prototype._getDefaultVS=function(){return this._curtains.productionMode||console.warn(\"No vertex shader provided, will use a default one\"),\"precision mediump float;\\nattribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;varying vec3 vVertexPosition;varying vec2 vTextureCoord;void main() {vTextureCoord = aTextureCoord;vVertexPosition = aVertexPosition;gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}\"},Curtains.BasePlane.prototype._getDefaultFS=function(){return\"precision mediump float;\\nvarying vec3 vVertexPosition;varying vec2 vTextureCoord;void main( void ) {gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);}\"},Curtains.BasePlane.prototype._setupShaders=function(t){var e,i,s=t.vertexShaderID||this.htmlElement.getAttribute(\"data-vs-id\"),r=t.fragmentShaderID||this.htmlElement.getAttribute(\"data-fs-id\");return t.vertexShader||(e=s&&document.getElementById(s)?document.getElementById(s).innerHTML:this._getDefaultVS()),t.fragmentShader||(r&&document.getElementById(r)?i=document.getElementById(r).innerHTML:(this._curtains.productionMode||console.warn(\"No fragment shader provided, will use a default one\"),i=this._getDefaultFS())),{vertexShaderCode:t.vertexShader||e,fragmentShaderCode:t.fragmentShader||i}},Curtains.BasePlane.prototype._handleUniformSetting=function(t,e,i){var s=this._curtains.gl;switch(t){case\"1i\":s.uniform1i(e,i);break;case\"1iv\":s.uniform1iv(e,i);break;case\"1f\":s.uniform1f(e,i);break;case\"1fv\":s.uniform1fv(e,i);break;case\"2i\":s.uniform2i(e,i[0],i[1]);break;case\"2iv\":s.uniform2iv(e,i);break;case\"2f\":s.uniform2f(e,i[0],i[1]);break;case\"2fv\":s.uniform2fv(e,i);break;case\"3i\":s.uniform3i(e,i[0],i[1],i[2]);break;case\"3iv\":s.uniform3iv(e,i);break;case\"3f\":s.uniform3f(e,i[0],i[1],i[2]);break;case\"3fv\":s.uniform3fv(e,i);break;case\"4i\":s.uniform4i(e,i[0],i[1],i[2],i[3]);break;case\"4iv\":s.uniform4iv(e,i);break;case\"4f\":s.uniform4f(e,i[0],i[1],i[2],i[3]);break;case\"4fv\":s.uniform4fv(e,i);break;case\"mat2\":s.uniformMatrix2fv(e,!1,i);break;case\"mat3\":s.uniformMatrix3fv(e,!1,i);break;case\"mat4\":s.uniformMatrix4fv(e,!1,i);break;default:this._curtains.productionMode||console.warn(\"This uniform type is not handled : \",t)}},Curtains.BasePlane.prototype._setUniforms=function(){var t=this._curtains,e=t.gl;t._useProgram(this._usedProgram);for(var i=e.getProgramParameter(this._usedProgram.program,e.ACTIVE_UNIFORMS),s=0;s<i;s++){var r=e.getActiveUniform(this._usedProgram.program,s);r.type===e.SAMPLER_2D&&this._activeTextures.push(r)}if(this.uniforms)for(var a in this.uniforms){var n=this.uniforms[a];n.location=e.getUniformLocation(this._usedProgram.program,n.name),n.type||(Array.isArray(n.value)?4===n.value.length?(n.type=\"4f\",t.productionMode||console.warn(\"No uniform type declared for \"+n.name+\", applied a 4f (array of 4 floats) uniform type\")):3===n.value.length?(n.type=\"3f\",t.productionMode||console.warn(\"No uniform type declared for \"+n.name+\", applied a 3f (array of 3 floats) uniform type\")):2===n.value.length&&(n.type=\"2f\",t.productionMode||console.warn(\"No uniform type declared for \"+n.name+\", applied a 2f (array of 2 floats) uniform type\")):n.value.constructor===Float32Array?16===n.value.length?(n.type=\"mat4\",t.productionMode||console.warn(\"No uniform type declared for \"+n.name+\", applied a mat4 (4x4 matrix array) uniform type\")):9===n.value.length?(n.type=\"mat3\",t.productionMode||console.warn(\"No uniform type declared for \"+n.name+\", applied a mat3 (3x3 matrix array) uniform type\")):4===n.value.length&&(n.type=\"mat2\",t.productionMode||console.warn(\"No uniform type declared for \"+n.name+\", applied a mat2 (2x2 matrix array) uniform type\")):(n.type=\"1f\",t.productionMode||console.warn(\"No uniform type declared for \"+n.name+\", applied a 1f (float) uniform type\"))),this._handleUniformSetting(n.type,n.location,n.value)}},Curtains.BasePlane.prototype._updateUniforms=function(){if(this.uniforms)for(var t in this.uniforms){var e=this.uniforms[t];this.shareProgram?this._handleUniformSetting(e.type,e.location,e.value):(e.value.length||e.value===e.lastValue?JSON.stringify(e.value)!==JSON.stringify(e.lastValue)&&this._handleUniformSetting(e.type,e.location,e.value):this._handleUniformSetting(e.type,e.location,e.value),e.lastValue=e.value)}},Curtains.BasePlane.prototype._setAttributes=function(){this._attributes||(this._attributes={}),this._attributes.vertexPosition={name:\"aVertexPosition\",location:this._curtains.gl.getAttribLocation(this._usedProgram.program,\"aVertexPosition\")},this._attributes.textureCoord={name:\"aTextureCoord\",location:this._curtains.gl.getAttribLocation(this._usedProgram.program,\"aTextureCoord\")}},Curtains.BasePlane.prototype._setPlaneVertices=function(){this._geometry={vertices:[]},this._material={uvs:[]};for(var t=0;t<this._definition.height;++t)for(var e=t/this._definition.height,i=0;i<this._definition.width;++i){var s=i/this._definition.width;this._material.uvs.push(s),this._material.uvs.push(e),this._material.uvs.push(0),this._geometry.vertices.push(2*(s-.5)),this._geometry.vertices.push(2*(e-.5)),this._geometry.vertices.push(0),this._material.uvs.push(s+1/this._definition.width),this._material.uvs.push(e),this._material.uvs.push(0),this._geometry.vertices.push(2*(s+1/this._definition.width-.5)),this._geometry.vertices.push(2*(e-.5)),this._geometry.vertices.push(0),this._material.uvs.push(s),this._material.uvs.push(e+1/this._definition.height),this._material.uvs.push(0),this._geometry.vertices.push(2*(s-.5)),this._geometry.vertices.push(2*(e+1/this._definition.height-.5)),this._geometry.vertices.push(0),this._material.uvs.push(s),this._material.uvs.push(e+1/this._definition.height),this._material.uvs.push(0),this._geometry.vertices.push(2*(s-.5)),this._geometry.vertices.push(2*(e+1/this._definition.height-.5)),this._geometry.vertices.push(0),this._material.uvs.push(s+1/this._definition.width),this._material.uvs.push(e),this._material.uvs.push(0),this._geometry.vertices.push(2*(s+1/this._definition.width-.5)),this._geometry.vertices.push(2*(e-.5)),this._geometry.vertices.push(0),this._material.uvs.push(s+1/this._definition.width),this._material.uvs.push(e+1/this._definition.height),this._material.uvs.push(0),this._geometry.vertices.push(2*(s+1/this._definition.width-.5)),this._geometry.vertices.push(2*(e+1/this._definition.height-.5)),this._geometry.vertices.push(0)}},Curtains.BasePlane.prototype._initializeBuffers=function(){var t=this._curtains.gl;this._geometry||this._material||this._setPlaneVertices(),this._attributes&&(this._geometry.bufferInfos={id:t.createBuffer(),itemSize:3,numberOfItems:this._geometry.vertices.length/3},this._material.bufferInfos={id:t.createBuffer(),itemSize:3,numberOfItems:this._material.uvs.length/3},this._curtains._isWebGL2?(this._vao=t.createVertexArray(),t.bindVertexArray(this._vao)):this._curtains._extensions.OES_vertex_array_object&&(this._vao=this._curtains._extensions.OES_vertex_array_object.createVertexArrayOES(),this._curtains._extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao)),t.enableVertexAttribArray(this._attributes.vertexPosition.location),t.bindBuffer(t.ARRAY_BUFFER,this._geometry.bufferInfos.id),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._geometry.vertices),t.STATIC_DRAW),t.vertexAttribPointer(this._attributes.vertexPosition.location,this._geometry.bufferInfos.itemSize,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this._attributes.textureCoord.location),t.bindBuffer(t.ARRAY_BUFFER,this._material.bufferInfos.id),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._material.uvs),t.STATIC_DRAW),t.vertexAttribPointer(this._attributes.textureCoord.location,this._material.bufferInfos.itemSize,t.FLOAT,!1,0,0),this._curtains._glState.currentBuffersID=this._definition.buffersID)},Curtains.BasePlane.prototype._restoreContext=function(){var t=this._curtains;if(this._canDraw=!1,this._matrices&&(this._matrices=null),this._attributes=null,this._geometry.bufferInfos=null,this._material.bufferInfos=null,this._usedProgram=t._setupProgram(this._usedProgram.vsCode,this._usedProgram.fsCode,this),this._usedProgram){if(this._setAttributes(),this._activeTextures=[],this._setUniforms(),this._initializeBuffers(),\"ShaderPass\"===this._type)if(this._isScenePass)this.target._frameBuffer=null,this.target._depthBuffer=null,t.renderTargets.splice(this.target.index,1),this.textures.splice(0,1),this._createFrameBuffer(),t._drawStacks.scenePasses.push(this.index);else{var e=t.renderTargets[this.target.index];this.setRenderTarget(e),this.target._shaderPass=e,this.textures[0]._canDraw=!1,this.textures[0]._setTextureUniforms(),this.textures[0].setFromTexture(e.textures[0]),t._drawStacks.renderPasses.push(this.index)}else this.target&&this.setRenderTarget(t.renderTargets[this.target.index]);for(var i=\"ShaderPass\"===this._type?1:0;i<this.textures.length;i++)this.textures[i]._restoreContext();\"Plane\"===this._type&&(this._initMatrices(),this.setPerspective(this._fov,this._nearPlane,this._farPlane),this._applyWorldPositions(),t._stackPlane(this)),this._canDraw=!0}},Curtains.BasePlane.prototype._setDocumentSizes=function(){var t=this.htmlElement.getBoundingClientRect();0===t.width&&0===t.height&&(t=this._curtains._boundingRect),this._boundingRect||(this._boundingRect={}),this._boundingRect.document={width:t.width*this._curtains.pixelRatio,height:t.height*this._curtains.pixelRatio,top:t.top*this._curtains.pixelRatio,left:t.left*this._curtains.pixelRatio}},Curtains.BasePlane.prototype.getBoundingRect=function(){return{width:this._boundingRect.document.width,height:this._boundingRect.document.height,top:this._boundingRect.document.top,left:this._boundingRect.document.left,right:this._boundingRect.document.left+this._boundingRect.document.width,bottom:this._boundingRect.document.top+this._boundingRect.document.height}},Curtains.BasePlane.prototype._getNearPlaneIntersections=function(t,e,i){function s(t,e){for(var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],s=t.slice();s[2]>-1;)s[0]+=i[0],s[1]+=i[1],s[2]+=i[2];return s}if(1===i.length)0===i[0]?(e[0]=s(e[1],this._curtains._applyMatrixToPoint([.95,1,0],this._matrices.mVPMatrix)),e.push(s(e[3],this._curtains._applyMatrixToPoint([-1,-.95,0],this._matrices.mVPMatrix)))):1===i[0]?(e[1]=s(e[0],this._curtains._applyMatrixToPoint([-.95,1,0],this._matrices.mVPMatrix)),e.push(s(e[2],this._curtains._applyMatrixToPoint([1,-.95,0],this._matrices.mVPMatrix)))):2===i[0]?(e[2]=s(e[3],this._curtains._applyMatrixToPoint([-.95,-1,0],this._matrices.mVPMatrix)),e.push(s(e[1],this._curtains._applyMatrixToPoint([1,.95,0],this._matrices.mVPMatrix)))):3===i[0]&&(e[3]=s(e[2],this._curtains._applyMatrixToPoint([.95,-1,0],this._matrices.mVPMatrix)),e.push(s(e[0],this._curtains._applyMatrixToPoint([-1,.95,0],this._matrices.mVPMatrix))));else if(2===i.length)0===i[0]&&1===i[1]?(e[0]=s(e[3],this._curtains._applyMatrixToPoint([-1,-.95,0],this._matrices.mVPMatrix)),e[1]=s(e[2],this._curtains._applyMatrixToPoint([1,-.95,0],this._matrices.mVPMatrix))):1===i[0]&&2===i[1]?(e[1]=s(e[0],this._curtains._applyMatrixToPoint([-.95,1,0],this._matrices.mVPMatrix)),e[2]=s(e[3],this._curtains._applyMatrixToPoint([-.95,-1,0],this._matrices.mVPMatrix))):2===i[0]&&3===i[1]?(e[2]=s(e[1],this._curtains._applyMatrixToPoint([1,.95,0],this._matrices.mVPMatrix)),e[3]=s(e[0],this._curtains._applyMatrixToPoint([-1,.95,0],this._matrices.mVPMatrix))):0===i[0]&&3===i[1]&&(e[0]=s(e[1],this._curtains._applyMatrixToPoint([.95,1,0],this._matrices.mVPMatrix)),e[3]=s(e[2],this._curtains._applyMatrixToPoint([.95,-1,0],this._matrices.mVPMatrix)));else if(3===i.length){for(var r=0,a=0;a<t.length;a++)i.includes(a)||(r=a);e=[e[r]],0===r?(e.push(s(e[0],this._curtains._applyMatrixToPoint([-.95,1,0],this._matrices.mVPMatrix))),e.push(s(e[0],this._curtains._applyMatrixToPoint([-1,.95,0],this._matrices.mVPMatrix)))):1===r?(e.push(s(e[0],this._curtains._applyMatrixToPoint([.95,1,0],this._matrices.mVPMatrix))),e.push(s(e[0],this._curtains._applyMatrixToPoint([1,.95,0],this._matrices.mVPMatrix)))):2===r?(e.push(s(e[0],this._curtains._applyMatrixToPoint([.95,-1,0],this._matrices.mVPMatrix))),e.push(s(e[0],this._curtains._applyMatrixToPoint([1,-.95,0],this._matrices.mVPMatrix)))):3===r&&(e.push(s(e[0],this._curtains._applyMatrixToPoint([-.95,-1,0],this._matrices.mVPMatrix))),e.push(s(e[0],this._curtains._applyMatrixToPoint([-1,-.95,0],this._matrices.mVPMatrix))))}else for(a=0;a<t.length;a++)e[a][0]=1e4,e[a][1]=1e4;return e},Curtains.BasePlane.prototype._getWorldCoords=function(){for(var t=[[-1,1,0],[1,1,0],[1,-1,0],[-1,-1,0]],e=[],i=[],s=0;s<t.length;s++){var r=this._curtains._applyMatrixToPoint(t[s],this._matrices.mVPMatrix);e.push(r),Math.abs(r[2])>1&&i.push(s)}i.length&&(e=this._getNearPlaneIntersections(t,e,i));var a=1/0,n=-1/0,o=1/0,h=-1/0;for(s=0;s<e.length;s++){var u=e[s];u[0]<a&&(a=u[0]),u[0]>n&&(n=u[0]),u[1]<o&&(o=u[1]),u[1]>h&&(h=u[1])}return{top:h,right:n,bottom:o,left:a}},Curtains.BasePlane.prototype.getWebGLBoundingRect=function(){if(this._matrices.mVPMatrix){var t=this._getWorldCoords(),e={top:1-(t.top+1)/2,right:(t.right+1)/2,bottom:1-(t.bottom+1)/2,left:(t.left+1)/2};return e.width=e.right-e.left,e.height=e.bottom-e.top,{width:e.width*this._curtains._boundingRect.width,height:e.height*this._curtains._boundingRect.height,top:e.top*this._curtains._boundingRect.height+this._curtains._boundingRect.top,left:e.left*this._curtains._boundingRect.width+this._curtains._boundingRect.left,right:e.left*this._curtains._boundingRect.width+this._curtains._boundingRect.left+e.width*this._curtains._boundingRect.width,bottom:e.top*this._curtains._boundingRect.height+this._curtains._boundingRect.top+e.height*this._curtains._boundingRect.height}}return this._boundingRect.document},Curtains.BasePlane.prototype._getWebGLDrawRect=function(){var t=this.getWebGLBoundingRect();return{top:t.top-this.drawCheckMargins.top,right:t.right+this.drawCheckMargins.right,bottom:t.bottom+this.drawCheckMargins.bottom,left:t.left-this.drawCheckMargins.left}},Curtains.BasePlane.prototype.planeResize=function(){this._setDocumentSizes(),\"Plane\"===this._type&&(this.setPerspective(this._fov,this._nearPlane,this._farPlane),this._applyWorldPositions());for(var t=0;t<this.textures.length;t++)this.textures[t].resize();var e=this;setTimeout(function(){e._onAfterResizeCallback&&e._onAfterResizeCallback()},0)},Curtains.BasePlane.prototype.createTexture=function(t){\"string\"==typeof t&&(t={sampler:t},this._curtains.productionMode||console.warn(\"Since v5.1 you should use an object to pass your sampler name with the createTexture() method. Please refer to the docs: https://www.curtainsjs.com/documentation.html (texture concerned: \",t.sampler,\")\")),t||(t={});var e=new Curtains.Texture(this,{index:this.textures.length,sampler:t.sampler||null,fromTexture:t.fromTexture||null,isFBOTexture:t.isFBOTexture||!1});return this.textures.push(e),e},Curtains.BasePlane.prototype._isPlaneReady=function(){if(!this._loadingManager.complete&&this._loadingManager.sourcesLoaded>=this._loadingManager.initSourcesToLoad){this._loadingManager.complete=!0,this._curtains.needRender();var t=this;setTimeout(function(){t._onReadyCallback&&t._onReadyCallback()},0)}},Curtains.BasePlane.prototype.loadSources=function(t){for(var e=0;e<t.length;e++)this.loadSource(t[e])},Curtains.BasePlane.prototype.loadSource=function(t){\"IMG\"===t.tagName.toUpperCase()?this.loadImage(t):\"VIDEO\"===t.tagName.toUpperCase()?this.loadVideo(t):\"CANVAS\"===t.tagName.toUpperCase()?this.loadCanvas(t):this._curtains.productionMode||console.warn(\"this HTML tag could not be converted into a texture:\",t.tagName)},Curtains.BasePlane.prototype._sourceLoadError=function(t,e){this._curtains.productionMode||console.warn(\"There has been an error:\",e,\"while loading this source:\",t)},Curtains.BasePlane.prototype._getTextureFromCache=function(t){var e=!1;if(this._curtains._imageCache.length>0)for(var i=0;i<this._curtains._imageCache.length;i++){var s=this._curtains._imageCache[i];s.source&&\"image\"===s.type&&s.source.src===t.src&&(e=s)}return e},Curtains.BasePlane.prototype.loadImage=function(t){var e=t;e.crossOrigin=this.crossOrigin||\"anonymous\",e.sampler=t.getAttribute(\"data-sampler\")||null;var i=this._getTextureFromCache(t);if(i)return this.createTexture({sampler:e.sampler,fromTexture:i}),this.images.push(i.source),void this._isPlaneReady();var s=this.createTexture({sampler:e.sampler});if(s._onSourceLoadedHandler=s._onSourceLoaded.bind(s,e),e.complete)s._onSourceLoaded(e);else if(e.decode){var r=this;e.decode().then(s._onSourceLoadedHandler).catch(function(){e.addEventListener(\"load\",s._onSourceLoadedHandler,!1),e.addEventListener(\"error\",r._sourceLoadError.bind(r,e),!1)})}else e.addEventListener(\"load\",s._onSourceLoadedHandler,!1),e.addEventListener(\"error\",this._sourceLoadError.bind(this,e),!1);this.images.push(e)},Curtains.BasePlane.prototype.loadVideo=function(t){var e=t;e.preload=!0,e.muted=!0,e.loop=!0,e.sampler=t.getAttribute(\"data-sampler\")||null,e.crossOrigin=this.crossOrigin||\"anonymous\";var i=this.createTexture({sampler:e.sampler});i._onSourceLoadedHandler=i._onVideoLoadedData.bind(i,e),e.addEventListener(\"canplaythrough\",i._onSourceLoadedHandler,!1),e.addEventListener(\"error\",this._sourceLoadError.bind(this,e),!1),e.readyState>=e.HAVE_FUTURE_DATA&&i._onSourceLoaded(e),e.load(),this.videos.push(e)},Curtains.BasePlane.prototype.loadCanvas=function(t){var e=t;e.sampler=t.getAttribute(\"data-sampler\")||null;var i=this.createTexture({sampler:e.sampler});this.canvases.push(e),i._onSourceLoaded(e)},Curtains.BasePlane.prototype.loadImages=function(t){for(var e=0;e<t.length;e++)this.loadImage(t[e])},Curtains.BasePlane.prototype.loadVideos=function(t){for(var e=0;e<t.length;e++)this.loadVideo(t[e])},Curtains.BasePlane.prototype.loadCanvases=function(t){for(var e=0;e<t.length;e++)this.loadCanvas(t[e])},Curtains.BasePlane.prototype.playVideos=function(){for(var t=0;t<this.textures.length;t++){var e=this.textures[t];if(\"video\"===e.type){var i=e.source.play(),s=this;void 0!==i&&i.catch(function(t){s._curtains.productionMode||console.warn(\"Could not play the video : \",t)})}}},Curtains.BasePlane.prototype.mouseToPlaneCoords=function(t,e){var i=this.scale?this.scale:{x:1,y:1},s=(this._boundingRect.document.width-this._boundingRect.document.width*i.x)/2,r=(this._boundingRect.document.height-this._boundingRect.document.height*i.y)/2,a=this._boundingRect.document.width*i.x/this._curtains.pixelRatio,n=this._boundingRect.document.height*i.y/this._curtains.pixelRatio,o=(this._boundingRect.document.top+r)/this._curtains.pixelRatio;return{x:(t-(this._boundingRect.document.left+s)/this._curtains.pixelRatio)/a*2-1,y:1-(e-o)/n*2}},Curtains.BasePlane.prototype._bindPlaneBuffers=function(){var t=this._curtains,e=t.gl;this._vao?t._isWebGL2?t.gl.bindVertexArray(this._vao):t._extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao):(e.enableVertexAttribArray(this._attributes.vertexPosition.location),e.bindBuffer(e.ARRAY_BUFFER,this._geometry.bufferInfos.id),e.vertexAttribPointer(this._attributes.vertexPosition.location,this._geometry.bufferInfos.itemSize,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this._attributes.textureCoord.location),e.bindBuffer(e.ARRAY_BUFFER,this._material.bufferInfos.id),e.vertexAttribPointer(this._attributes.textureCoord.location,this._material.bufferInfos.itemSize,e.FLOAT,!1,0,0)),t._glState.currentBuffersID=this._definition.buffersID},Curtains.BasePlane.prototype._bindPlaneTexture=function(t){var e=this._curtains.gl;t._canDraw&&(e.activeTexture(e.TEXTURE0+t.index),e.bindTexture(e.TEXTURE_2D,t._sampler.texture))},Curtains.BasePlane.prototype.setRenderTarget=function(t){t&&t._type&&\"RenderTarget\"===t._type?this.target=t:this._curtains.productionMode||console.warn(\"Could not set the render target because the argument passed is not a RenderTarget class object\",t)},Curtains.BasePlane.prototype._drawPlane=function(){var t=this._curtains,e=t.gl;if(this._canDraw&&(this._onRenderCallback&&this._onRenderCallback(),\"ShaderPass\"===this._type?this._isScenePass?t._glState.scenePassIndex+1<t._drawStacks.scenePasses.length?(t._bindFrameBuffer(t.shaderPasses[t._drawStacks.scenePasses[t._glState.scenePassIndex+1]].target),t._glState.scenePassIndex++):t._bindFrameBuffer(null):null===t._glState.scenePassIndex&&t._bindFrameBuffer(null):(this.target?t._bindFrameBuffer(this.target):null===t._glState.scenePassIndex&&t._bindFrameBuffer(null),this._setPerspectiveMatrix(),this._setMVMatrix()),(this.alwaysDraw||this._shouldDraw)&&this.visible)){t._setDepth(this._depthTest),t._setFaceCulling(this.cullFace),t._useProgram(this._usedProgram),this._updateUniforms(),t._glState.currentBuffersID!==this._definition.buffersID&&this._bindPlaneBuffers();for(var i=0;i<this.textures.length;i++)this.textures[i]._drawTexture();e.drawArrays(e.TRIANGLES,0,this._geometry.bufferInfos.numberOfItems),this._onAfterRenderCallback&&this._onAfterRenderCallback()}},Curtains.BasePlane.prototype._dispose=function(){var t=this._curtains.gl;if(t){this._vao&&(this._curtains._isWebGL2?t.deleteVertexArray(this._vao):this._curtains._extensions.OES_vertex_array_object.deleteVertexArrayOES(this._vao)),this._geometry&&(t.bindBuffer(t.ARRAY_BUFFER,this._geometry.bufferInfos.id),t.bufferData(t.ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(this._geometry.bufferInfos.id),this._geometry=null),this._material&&(t.bindBuffer(t.ARRAY_BUFFER,this._material.bufferInfos.id),t.bufferData(t.ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(this._material.bufferInfos.id),this._material=null),this.target&&\"ShaderPass\"===this._type&&(this._curtains.removeRenderTarget(this.target),this.textures.shift());for(var e=0;e<this.textures.length;e++)this.textures[e]._dispose();this.textures=null}},Curtains.BasePlane.prototype.onAfterResize=function(t){return t&&(this._onAfterResizeCallback=t),this},Curtains.BasePlane.prototype.onLoading=function(t){return t&&(this._onPlaneLoadingCallback=t),this},Curtains.BasePlane.prototype.onReady=function(t){return t&&(this._onReadyCallback=t),this},Curtains.BasePlane.prototype.onRender=function(t){return t&&(this._onRenderCallback=t),this},Curtains.BasePlane.prototype.onAfterRender=function(t){return t&&(this._onAfterRenderCallback=t),this},Curtains.Plane=function(t,e,i){this._type=\"Plane\",Curtains.BasePlane.call(this,t,e,i),this.index=this._curtains.planes.length,this._canDraw=!1,this.target=null,i||(i={}),this._setInitParams(i),this._usedProgram?(this._curtains._stackPlane(this),this._initPositions(),this._initSources()):this._curtains._onErrorCallback&&this._curtains._onErrorCallback()},Curtains.Plane.prototype=Object.create(Curtains.BasePlane.prototype),Curtains.Plane.prototype.constructor=Curtains.Plane,Curtains.Plane.prototype._setInitParams=function(t){this.alwaysDraw=t.alwaysDraw||!1,this._transparent=t.transparent||!1;var e={top:0,right:0,bottom:0,left:0};t.drawCheckMargins&&(e=t.drawCheckMargins),this.drawCheckMargins=e,this._initTransformValues(),this.autoloadSources=t.autoloadSources,null!==this.autoloadSources&&void 0!==this.autoloadSources||(this.autoloadSources=!0),this._fov=t.fov||50,this._nearPlane=.1,this._farPlane=150,null===t.watchScroll||void 0===t.watchScroll?this.watchScroll=this._curtains._watchScroll:this.watchScroll=t.watchScroll||!1,this.watchScroll&&(this._curtains._scrollManager.shouldWatch=!0)},Curtains.Plane.prototype._initTransformValues=function(){this.rotation={x:0,y:0,z:0},this.quaternion=new Float32Array([0,0,0,1]),this.relativeTranslation={x:0,y:0,z:0},this._translation={x:0,y:0,z:0},this.scale={x:1,y:1},this.transformOrigin={x:.5,y:.5,z:0}},Curtains.Plane.prototype._initPositions=function(){this._initMatrices(),this.setPerspective(this._fov,this._nearPlane,this._farPlane),this._applyWorldPositions()},Curtains.Plane.prototype._initSources=function(){if(this.autoloadSources){for(var t=[],e=0;e<this.htmlElement.getElementsByTagName(\"img\").length;e++)t.push(this.htmlElement.getElementsByTagName(\"img\")[e]);t.length>0&&this.loadSources(t);var i=[];for(e=0;e<this.htmlElement.getElementsByTagName(\"video\").length;e++)i.push(this.htmlElement.getElementsByTagName(\"video\")[e]);i.length>0&&this.loadSources(i);var s=[];for(e=0;e<this.htmlElement.getElementsByTagName(\"canvas\").length;e++)s.push(this.htmlElement.getElementsByTagName(\"canvas\")[e]);s.length>0&&this.loadSources(s),this._loadingManager.initSourcesToLoad=t.length+i.length+s.length}0===this._loadingManager.initSourcesToLoad&&(this._isPlaneReady(),this._curtains.productionMode||console.warn(\"This plane does not contain any image, video or canvas element. You may want to add some later with the loadSource() or loadSources() method.\")),this._canDraw=!0,this._curtains.needRender(),this.alwaysDraw||this._shouldDrawCheck()},Curtains.Plane.prototype._initMatrices=function(){var t=this._curtains.gl;this._matrices={mvMatrix:{name:\"uMVMatrix\",matrix:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),location:t.getUniformLocation(this._usedProgram.program,\"uMVMatrix\")},pMatrix:{name:\"uPMatrix\",matrix:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),location:t.getUniformLocation(this._usedProgram.program,\"uPMatrix\")}}},Curtains.Plane.prototype.resetPlane=function(t){this._initTransformValues(),null!==t&&t?(this.htmlElement=t,this.updatePosition()):t||this._curtains.productionMode||console.warn(\"You are trying to reset a plane with a HTML element that does not exist. The old HTML element will be kept instead.\")},Curtains.Plane.prototype._setWorldSizes=function(){var t=this._curtains,e=this._boundingRect.document.width/2+this._boundingRect.document.left,i=this._boundingRect.document.height/2+this._boundingRect.document.top,s=t._boundingRect.width/2+t._boundingRect.left,r=t._boundingRect.height/2+t._boundingRect.top;this._boundingRect.world={width:this._boundingRect.document.width/t._boundingRect.width,height:this._boundingRect.document.height/t._boundingRect.height,top:(r-i)/t._boundingRect.height,left:(e-s)/t._boundingRect.height},this._boundingRect.world.scale={x:this._curtains._boundingRect.width/this._curtains._boundingRect.height*this._boundingRect.world.width/2,y:this._boundingRect.world.height/2}},Curtains.Plane.prototype._setPerspectiveMatrix=function(){if(this._updatePerspectiveMatrix){var t=this._curtains._boundingRect.width/this._curtains._boundingRect.height,e=this._nearPlane*Math.tan(Math.PI/180*.5*this._fov),i=2*e,s=t*i,r=-.5*s,a=r+s,n=e-i,o=2*this._nearPlane/(a-r),h=2*this._nearPlane/(e-n),u=(a+r)/(a-r),l=(e+n)/(e-n),_=-(this._farPlane+this._nearPlane)/(this._farPlane-this._nearPlane),c=-2*this._farPlane*this._nearPlane/(this._farPlane-this._nearPlane);this._matrices.pMatrix.matrix=new Float32Array([o,0,0,0,0,h,0,0,u,l,_,-1,0,0,c,0])}(this.shareProgram||!this.shareProgram&&this._updatePerspectiveMatrix)&&(this._curtains._useProgram(this._usedProgram),this._curtains.gl.uniformMatrix4fv(this._matrices.pMatrix.location,!1,this._matrices.pMatrix.matrix)),this._updatePerspectiveMatrix=!1},Curtains.Plane.prototype.setPerspective=function(t,e,i){var s=isNaN(t)?this._fov:parseFloat(t);(s=Math.max(1,Math.min(s,179)))!==this._fov&&(this._fov=s),this._cameraZPosition=2*Math.tan(Math.PI/180*.5*this._fov),this._CSSPerspective=Math.pow(Math.pow(this._curtains._boundingRect.width/(2*this._curtains.pixelRatio),2)+Math.pow(this._curtains._boundingRect.height/(2*this._curtains.pixelRatio),2),.5)/Math.tan(this._fov/2*Math.PI/180),this._nearPlane=isNaN(e)?this._nearPlane:parseFloat(e),this._nearPlane=Math.max(this._nearPlane,.01),this._farPlane=isNaN(i)?this._farPlane:parseFloat(i),this._farPlane=Math.max(this._farPlane,50),this._updatePerspectiveMatrix=!0,this._updateMVMatrix=!0},Curtains.Plane.prototype._setMVMatrix=function(){if(this._updateMVMatrix){this._translation.z=this.relativeTranslation.z/this._CSSPerspective;var t={x:this._translation.x,y:this._translation.y,z:-(1-this._translation.z)/this._cameraZPosition},e={x:2*this.transformOrigin.x-1,y:-(2*this.transformOrigin.y-1)},i={x:e.x*this._boundingRect.world.scale.x,y:e.y*this._boundingRect.world.scale.y,z:this.transformOrigin.z},s=this._curtains._composeMatrixFromOrigin(t,this.quaternion,this.scale,i),r=new Float32Array([this._boundingRect.world.scale.x,0,0,0,0,this._boundingRect.world.scale.y,0,0,0,0,1,0,0,0,0,1]);this._matrices.mvMatrix.matrix=this._curtains._multiplyMatrix(s,r),this._matrices.mVPMatrix=this._curtains._multiplyMatrix(this._matrices.pMatrix.matrix,this._matrices.mvMatrix.matrix),this.alwaysDraw||this._shouldDrawCheck()}(this.shareProgram||!this.shareProgram&&this._updateMVMatrix)&&(this._curtains._useProgram(this._usedProgram),this._curtains.gl.uniformMatrix4fv(this._matrices.mvMatrix.location,!1,this._matrices.mvMatrix.matrix)),this._updateMVMatrix=!1},Curtains.Plane.prototype.setScale=function(t,e){if(t=isNaN(t)?this.scale.x:parseFloat(t),e=isNaN(e)?this.scale.y:parseFloat(e),t=Math.max(t,.001),e=Math.max(e,.001),t!==this.scale.x||e!==this.scale.y){this.scale={x:t,y:e};for(var i=0;i<this.textures.length;i++)this.textures[i].resize();this._updateMVMatrix=!0}},Curtains.Plane.prototype.setRotation=function(t,e,i){t=isNaN(t)?this.rotation.x:parseFloat(t),e=isNaN(e)?this.rotation.y:parseFloat(e),i=isNaN(i)?this.rotation.z:parseFloat(i),t===this.rotation.x&&e===this.rotation.y&&i===this.rotation.z||(this.rotation={x:t,y:e,z:i},this._setQuaternion(),this._updateMVMatrix=!0)},Curtains.Plane.prototype._setQuaternion=function(){var t=.5*this.rotation.x,e=.5*this.rotation.y,i=.5*this.rotation.z,s=Math.sin(t),r=Math.cos(t),a=Math.sin(e),n=Math.cos(e),o=Math.sin(i),h=Math.cos(i);this.quaternion[0]=s*n*h+r*a*o,this.quaternion[1]=r*a*h-s*n*o,this.quaternion[2]=r*n*o+s*a*h,this.quaternion[3]=r*n*h-s*a*o},Curtains.Plane.prototype.setTransformOrigin=function(t,e,i){t=isNaN(t)?this.transformOrigin.x:parseFloat(t),e=isNaN(e)?this.transformOrigin.y:parseFloat(e),i=isNaN(i)?this.transformOrigin.z:parseFloat(i),t===this.transformOrigin.x&&e===this.transformOrigin.y&&i===this.transformOrigin.z||(this.transformOrigin={x:t,y:e,z:i},this._updateMVMatrix=!0)},Curtains.Plane.prototype._setTranslation=function(){var t={x:0,y:0,z:0};0===this.relativeTranslation.x&&0===this.relativeTranslation.y&&0===this.relativeTranslation.z||(t=this._documentToLocalSpace(this.relativeTranslation.x,this.relativeTranslation.y)),this._translation.x=this._boundingRect.world.left+t.x,this._translation.y=this._boundingRect.world.top+t.y,this._updateMVMatrix=!0},Curtains.Plane.prototype.setRelativePosition=function(t,e,i){t=isNaN(t)?this.relativeTranslation.x:parseFloat(t),e=isNaN(e)?this.relativeTranslation.y:parseFloat(e),i=isNaN(i)?this.relativeTranslation.z:parseFloat(i),t===this.relativeTranslation.x&&e===this.relativeTranslation.y&&i===this.relativeTranslation.z||(this.relativeTranslation={x:t,y:e,z:i},this._setTranslation())},Curtains.Plane.prototype._documentToLocalSpace=function(t,e){return{x:t/(this._curtains._boundingRect.width/this._curtains.pixelRatio)*(this._curtains._boundingRect.width/this._curtains._boundingRect.height),y:-e/(this._curtains._boundingRect.height/this._curtains.pixelRatio)}},Curtains.Plane.prototype._shouldDrawCheck=function(){var t=this._getWebGLDrawRect(),e=this;Math.round(t.right)<=this._curtains._boundingRect.left||Math.round(t.left)>=this._curtains._boundingRect.left+this._curtains._boundingRect.width||Math.round(t.bottom)<=this._curtains._boundingRect.top||Math.round(t.top)>=this._curtains._boundingRect.top+this._curtains._boundingRect.height?this._shouldDraw&&(this._shouldDraw=!1,setTimeout(function(){e._onLeaveViewCallback&&e._onLeaveViewCallback()},0)):(this._shouldDraw||setTimeout(function(){e._onReEnterViewCallback&&e._onReEnterViewCallback()},0),this._shouldDraw=!0)},Curtains.Plane.prototype.isDrawn=function(){return this._canDraw&&this.visible&&(this._shouldDraw||this.alwaysDraw)},Curtains.Plane.prototype._applyWorldPositions=function(){this._setWorldSizes(),this._setTranslation()},Curtains.Plane.prototype.updatePosition=function(){this._setDocumentSizes(),this._applyWorldPositions()},Curtains.Plane.prototype.updateScrollPosition=function(){(this._curtains._scrollManager.lastXDelta||this._curtains._scrollManager.lastYDelta)&&(this._boundingRect.document.top+=this._curtains._scrollManager.lastYDelta*this._curtains.pixelRatio,this._boundingRect.document.left+=this._curtains._scrollManager.lastXDelta*this._curtains.pixelRatio,this._applyWorldPositions())},Curtains.Plane.prototype.enableDepthTest=function(t){this._depthTest=t},Curtains.Plane.prototype.moveToFront=function(){this.enableDepthTest(!1);for(var t=this._transparent?\"transparent\":\"opaque\",e=this._curtains._drawStacks[t].programs[\"program-\"+this._usedProgram.id],i=0;i<e.length;i++)this.index===e[i]&&e.splice(i,1);\"transparent\"===t?e.unshift(this.index):e.push(this.index),this._curtains._drawStacks[t].programs[\"program-\"+this._usedProgram.id]=e;for(i=0;i<this._curtains._drawStacks[t].order.length;i++)this._curtains._drawStacks[t].order[i]===this._usedProgram.id&&this._curtains._drawStacks[t].order.splice(i,1);this._curtains._drawStacks[t].order.push(this._usedProgram.id)},Curtains.Plane.prototype.onReEnterView=function(t){return t&&(this._onReEnterViewCallback=t),this},Curtains.Plane.prototype.onLeaveView=function(t){return t&&(this._onLeaveViewCallback=t),this},Curtains.RenderTarget=function(t,e){e||(e={}),this._curtains=t,this.index=this._curtains.renderTargets.length,this._type=\"RenderTarget\",this._shaderPass=e.shaderPass||null,this._depth=e.depth||!1,this._shouldClear=e.clear,null!==this._shouldClear&&void 0!==this._shouldClear||(this._shouldClear=!0),this._minSize={width:e.minWidth||1024*this._curtains.pixelRatio,height:e.minHeight||1024*this._curtains.pixelRatio},this.userData={},this.uuid=this._curtains._generateUUID(),this._curtains.renderTargets.push(this),this._initRenderTarget()},Curtains.RenderTarget.prototype._initRenderTarget=function(){this._setSize(),this.textures=[],this._createFrameBuffer()},Curtains.RenderTarget.prototype._setSize=function(){this._shaderPass&&this._shaderPass._isScenePass?this._size={width:this._curtains._boundingRect.width,height:this._curtains._boundingRect.height}:this._size={width:Math.max(this._minSize.width,this._curtains._boundingRect.width),height:Math.max(this._minSize.height,this._curtains._boundingRect.height)}},Curtains.RenderTarget.prototype.resize=function(){this._shaderPass&&this._shaderPass._isScenePass&&(this._setSize(),this._curtains._bindFrameBuffer(this,!0),this._depth&&this._bindDepthBuffer(),this._curtains._bindFrameBuffer(null))},Curtains.RenderTarget.prototype._bindDepthBuffer=function(){var t=this._curtains.gl;this._depthBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,this._depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this._size.width,this._size.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this._depthBuffer))},Curtains.RenderTarget.prototype._createFBOTexture=function(){var t=this._curtains.gl;if(this.textures.length>0)this.textures[0]._canDraw=!1,this.textures[0]._init();else{var e=new Curtains.Texture(this._shaderPass?this._shaderPass:this,{index:this.textures.length,sampler:\"uRenderTexture\",isFBOTexture:!0});this.textures.push(e)}t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.textures[0]._sampler.texture,0)},Curtains.RenderTarget.prototype._createFrameBuffer=function(){var t=this._curtains.gl;this._frameBuffer=t.createFramebuffer(),this._curtains._bindFrameBuffer(this,!0),this._createFBOTexture(),this._depth&&(this._depthBuffer=t.createRenderbuffer(),this._bindDepthBuffer()),this._curtains._bindFrameBuffer(null)},Curtains.RenderTarget.prototype._restoreContext=function(){this._shaderPass&&this._shaderPass._isScenePass||(this._shaderPass=null,this._createFrameBuffer())},Curtains.RenderTarget.prototype._dispose=function(){this._frameBuffer&&(this._curtains.gl.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),this._depthBuffer&&(this._curtains.gl.deleteRenderbuffer(this._depthBuffer),this._depthBuffer=null),this.textures[0]._dispose(),this.textures=[]},Curtains.ShaderPass=function(t,e){e||(e={}),e.widthSegments=1,e.heightSegments=1,this._type=\"ShaderPass\",this._isScenePass=!0,Curtains.BasePlane.call(this,t,t.container,e),this.index=this._curtains.shaderPasses.length,this._depth=e.depth||!1,this._shouldClear=e.clear,null!==this._shouldClear&&void 0!==this._shouldClear||(this._shouldClear=!0),this.target=e.renderTarget||null,this.target&&(this._isScenePass=!1,this._shouldClear=this.target._shouldClear),this._usedProgram&&this._initShaderPassPlane()},Curtains.ShaderPass.prototype=Object.create(Curtains.BasePlane.prototype),Curtains.ShaderPass.prototype.constructor=Curtains.ShaderPass,Curtains.ShaderPass.prototype._initShaderPassPlane=function(){if(this.target){this.setRenderTarget(this.target),this.target._shaderPass=this;var t=new Curtains.Texture(this,{index:this.textures.length,sampler:\"uRenderTexture\",isFBOTexture:!0,fromTexture:this.target.textures[0]});this.textures.push(t)}else this._createFrameBuffer();this._isPlaneReady(),this._canDraw=!0,this._curtains.needRender()},Curtains.ShaderPass.prototype._getDefaultVS=function(t){return\"precision mediump float;\\nattribute vec3 aVertexPosition;attribute vec2 aTextureCoord;varying vec3 vVertexPosition;varying vec2 vTextureCoord;void main() {vTextureCoord = aTextureCoord;vVertexPosition = aVertexPosition;gl_Position = vec4(aVertexPosition, 1.0);}\"},Curtains.ShaderPass.prototype._getDefaultFS=function(t){return\"precision mediump float;\\nvarying vec3 vVertexPosition;varying vec2 vTextureCoord;uniform sampler2D uRenderTexture;void main( void ) {gl_FragColor = texture2D(uRenderTexture, vTextureCoord);}\"},Curtains.ShaderPass.prototype._createFrameBuffer=function(){var t=new Curtains.RenderTarget(this._curtains,{shaderPass:this,clear:this._shouldClear,depth:this._depth});this.setRenderTarget(t),this.textures.push(this.target.textures[0])},Curtains.Texture=function(t,e){if(this._parent=t,this._curtains=t._curtains,this.uuid=this._curtains._generateUUID(),t._usedProgram||e.isFBOTexture)return this.index=t.textures.length,this._sampler={isActive:!1,name:e.sampler||\"uSampler\"+this.index},this._textureMatrix={name:e.sampler?e.sampler+\"Matrix\":\"uTextureMatrix\"+this.index,matrix:null},this._willUpdate=!1,this.shouldUpdate=!1,this._forceUpdate=!1,this.scale={x:1,y:1},this.userData={},this.type=e.isFBOTexture?\"fboTexture\":\"empty\",this._canDraw=!1,e.fromTexture?(this._initFromTexture=!0,this._parent._usedProgram&&this._setTextureUniforms(),void this.setFromTexture(e.fromTexture)):(this._initFromTexture=!1,this._init(),this);this._curtains.productionMode||console.warn(\"Unable to create the texture because the program is not valid\")},Curtains.Texture.prototype._init=function(){var t=this._curtains.gl;if(this._sampler.texture=t.createTexture(),this._internalFormat=t.RGBA,this._format=t.RGBA,this._textureType=t.UNSIGNED_BYTE,this._texParameters=!1,this._flipY=!1,t.bindTexture(t.TEXTURE_2D,this._sampler.texture),this._curtains._glState.flipY&&(this._curtains._glState.flipY=this._flipY,t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this._flipY)),t.pixelStorei(t.UNPACK_ALIGNMENT,4),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this._parent._usedProgram){if(this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._setTextureUniforms(),\"empty\"===this.type)t.texImage2D(t.TEXTURE_2D,0,this._internalFormat,1,1,0,this._format,this._textureType,new Uint8Array([0,0,0,255])),this._sourceLoaded=!1;else if(!this.source){var e=this._getSizes();this._updateTextureMatrix(e)}}else this._size={width:this._parent._size.width||this._curtains._boundingRect.width,height:this._parent._size.height||this._curtains._boundingRect.height};\"fboTexture\"===this.type&&(this._curtains._isWebGL2&&this._curtains._extensions.EXT_color_buffer_float?(this._internalFormat=t.RGBA16F,this._textureType=t.HALF_FLOAT):this._curtains._extensions.OES_texture_half_float&&(this._textureType=this._curtains._extensions.OES_texture_half_float.HALF_FLOAT_OES),t.texImage2D(t.TEXTURE_2D,0,this._internalFormat,this._size.width,this._size.height,0,this._format,this._textureType,null),this._setMipmaps()),this._canDraw=!0},Curtains.Texture.prototype._setTextureUniforms=function(){for(var t=0;t<this._parent._activeTextures.length;t++)this._parent._activeTextures[t].name===this._sampler.name&&(this._sampler.isActive=!0,this._sampler.location=this._curtains.gl.getUniformLocation(this._parent._usedProgram.program,this._sampler.name),this._textureMatrix.location=this._curtains.gl.getUniformLocation(this._parent._usedProgram.program,this._textureMatrix.name),this._curtains._useProgram(this._parent._usedProgram),this._curtains.gl.uniform1i(this._sampler.location,this.index))},Curtains.Texture.prototype.setFromTexture=function(t){if(t){if(this.type=t.type,this._sampler.texture=t._sampler.texture,this.source=t.source,this._size=t._size,this._sourceLoaded=t._sourceLoaded,this._internalFormat=t._internalFormat,this._format=t._format,this._textureType=t._textureType,this._texParameters=t._texParameters,this._originalTexture=t,this._parent._usedProgram&&(!this._canDraw||!this._textureMatrix.matrix)){var e=this._getSizes();this._updateTextureMatrix(e),this._canDraw=!0}}else this._curtains.productionMode||console.warn(\"Unable to set the texture from texture:\",t)},Curtains.Texture.prototype.setSource=function(t){if(this._parent._usedProgram){this.source=t,\"empty\"===this.type&&(\"IMG\"===t.tagName.toUpperCase()?this.type=\"image\":\"VIDEO\"===t.tagName.toUpperCase()?(this.type=\"video\",this.shouldUpdate=!0):\"CANVAS\"===t.tagName.toUpperCase()?(this.type=\"canvas\",this._willUpdate=!0,this.shouldUpdate=!0):this._curtains.productionMode||console.warn(\"this HTML tag could not be converted into a texture:\",t.tagName)),this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight},this._sourceLoaded=!0;var e=this._curtains.gl;e.activeTexture(e.TEXTURE0+this.index),e.bindTexture(e.TEXTURE_2D,this._sampler.texture),this._curtains.premultipliedAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._flipY=!0,this._curtains._glState.flipY||(this._curtains._glState.flipY=this._flipY,e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this._flipY)),this.resize(),\"image\"===this.type&&(e.texImage2D(e.TEXTURE_2D,0,this._internalFormat,this._format,this._textureType,t),this._setMipmaps()),this._curtains.needRender()}else this._curtains.productionMode||console.warn(\"Unable to set the texture source because the program is not valid\")},Curtains.Texture.prototype._setMipmaps=function(){var t=this._curtains.gl;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this._curtains._isWebGL2&&\"image\"===this.type?(t.generateMipmap(t.TEXTURE_2D),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this._texParameters=!0},Curtains.Texture.prototype.needUpdate=function(){this._forceUpdate=!0},Curtains.Texture.prototype._update=function(){var t=this._curtains.gl;this.source?(t.texImage2D(t.TEXTURE_2D,0,this._internalFormat,this._format,this._textureType,this.source),this._texParameters||this._setMipmaps()):t.texImage2D(t.TEXTURE_2D,0,this._internalFormat,this._size.width,this._size.height,0,this._format,this._textureType,this.source)},Curtains.Texture.prototype._getSizes=function(){var t=this._parent.scale?this._parent.scale:{x:1,y:1},e=this._parent._boundingRect.document.width*t.x,i=this._parent._boundingRect.document.height*t.y,s=this._size.width,r=this._size.height,a=s/r,n=e/i,o=0,h=0;return n>a?h=Math.min(0,i-e*(1/a)):n<a&&(o=Math.min(0,e-i*a)),{parentWidth:e,parentHeight:i,sourceWidth:s,sourceHeight:r,xOffset:o,yOffset:h}},Curtains.Texture.prototype.setScale=function(t,e){t=isNaN(t)?this.scale.x:parseFloat(t),e=isNaN(e)?this.scale.y:parseFloat(e),t=Math.max(t,.001),e=Math.max(e,.001),t===this.scale.x&&e===this.scale.y||(this.scale={x:t,y:e},this.resize())},Curtains.Texture.prototype.resize=function(){if(\"fboTexture\"===this.type){var t=this._curtains.gl;this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._originalTexture||(t.bindTexture(t.TEXTURE_2D,this._parent.textures[0]._sampler.texture),t.texImage2D(t.TEXTURE_2D,0,this._internalFormat,this._size.width,this._size.height,0,this._format,this._textureType,this.source))}else this.source&&(this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight});if(this._parent._usedProgram){var e=this._getSizes();this._updateTextureMatrix(e)}},Curtains.Texture.prototype._updateTextureMatrix=function(t){var e={x:t.parentWidth/(t.parentWidth-t.xOffset),y:t.parentHeight/(t.parentHeight-t.yOffset)};e.x/=this.scale.x,e.y/=this.scale.y;var i=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,(1-e.x)/2,(1-e.y)/2,0,1]);this._textureMatrix.matrix=this._curtains._scaleMatrix(i,e.x,e.y,1),this._curtains._useProgram(this._parent._usedProgram),this._curtains.gl.uniformMatrix4fv(this._textureMatrix.location,!1,this._textureMatrix.matrix)},Curtains.Texture.prototype._onSourceLoaded=function(t){this._parent._loadingManager.sourcesLoaded++;var e=this;if(this._sourceLoaded||setTimeout(function(){e._parent._onPlaneLoadingCallback&&e._parent._onPlaneLoadingCallback(e)},0),this.setSource(t),this._parent._isPlaneReady(),\"image\"===this.type){for(var i=!0,s=0;s<this._curtains._imageCache.length;s++)this._curtains._imageCache[s].source&&this._curtains._imageCache[s].source.src===t.src&&(i=!1);i&&this._curtains._imageCache.push(this)}},Curtains.Texture.prototype._onVideoLoadedData=function(t){this._sourceLoaded||this._onSourceLoaded(t)},Curtains.Texture.prototype._drawTexture=function(){this._sampler.isActive&&(this._parent._bindPlaneTexture(this),this._flipY&&!this._curtains._glState.flipY&&(this._curtains._glState.flipY=this._flipY,this._curtains.gl.pixelStorei(this._curtains.gl.UNPACK_FLIP_Y_WEBGL,this._flipY)),\"video\"===this.type&&this.source&&this.source.readyState>=this.source.HAVE_CURRENT_DATA&&(this._willUpdate=!0),(this._forceUpdate||this._willUpdate&&this.shouldUpdate)&&this._update(),\"video\"===this.type&&(this._willUpdate=!1),this._forceUpdate=!1)},Curtains.Texture.prototype._restoreFromTexture=function(){this._initFromTexture?this._setTextureUniforms():this._init(),this.setFromTexture(this._originalTexture)},Curtains.Texture.prototype._restoreContext=function(){if(this._canDraw=!1,this._sampler.isActive=!1,this._originalTexture){var t=this;if(this._originalTexture._canDraw)setTimeout(function(){t._restoreFromTexture()},0);else var e=setInterval(function(){t._originalTexture._canDraw&&(t._restoreFromTexture(),clearInterval(e))},16)}else this._init(),this.source&&(\"image\"===this.type&&this._curtains._imageCache.push(this),this.setSource(this.source),this.needUpdate())},Curtains.Texture.prototype._dispose=function(){\"video\"===this.type?(this.source.removeEventListener(\"canplaythrough\",this._onSourceLoadedHandler,!1),this.source.removeEventListener(\"error\",this._parent._sourceLoadError,!1),this.source.pause(),this.source.removeAttribute(\"src\"),this.source.load(),this.source=null):\"canvas\"===this.type?(this.source.width=this.source.width,this.source=null):\"image\"===this.type&&this._curtains._isDestroying&&(this.source.removeEventListener(\"load\",this._onSourceLoadedHandler,!1),this.source.removeEventListener(\"error\",this._parent._sourceLoadError,!1),this.source=null);var t=this._curtains.gl;t&&!this._originalTexture&&(\"image\"!==this.type||this._curtains._isDestroying)&&(t.activeTexture(t.TEXTURE0+this.index),t.bindTexture(t.TEXTURE_2D,null),t.deleteTexture(this._sampler.texture)),this._parent._loadingManager&&this._parent._loadingManager.sourcesLoaded--};module.exports={Curtains};"]}