{"version":3,"sources":["../../../js/intertia-scroll.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","math","lerp","a","b","n","norm","value","min","max","config","height","window","innerHeight","width","innerWidth","Smooth","this","bindMethods","data","ease","current","last","dom","el","document","querySelector","content","rAF","init","_this","forEach","fn","bind","style","position","top","left","overflow","body","offsetHeight","setHeight","scroll","scrollY","Math","floor","skew","transform","toFixed","requestAnimationFrame","arguments","undefined","setStyles","addEvents","cancelAnimationFrame","removeEvents","_requestAnimationFrame","apply","toString","run","_cancelAnimationFrame","addEventListener","resize","passive","removeEventListener","preload","on","smooth"],"mappings":"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","sourcesContent":["// ===================================================================================\n// INERTIA SCROLLING\n// ===================================================================================\nvar _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}var math = {\n  lerp: function lerp(a, b, n) {\n    return (1 - n) * a + n * b;\n  },\n  norm: function norm(value, min, max) {\n    return (value - min) / (max - min);\n  } };\n\n\nvar config = {\n  height: window.innerHeight,\n  width: window.innerWidth };var\n\n\nSmooth = function () {\n  function Smooth() {_classCallCheck(this, Smooth);\n    this.bindMethods();\n\n    this.data = {\n      ease: 0.1,\n      current: 0,\n      last: 0 };\n\n\n    this.dom = {\n      el: document.querySelector('[data-scroll]'),\n      content: document.querySelector('[data-scroll-content]') };\n\n\n    this.rAF = null;\n\n    this.init();\n  }_createClass(Smooth, [{ key: 'bindMethods', value: function bindMethods()\n\n    {var _this = this;\n      ['scroll', 'run', 'resize'].\n      forEach(function (fn) {return _this[fn] = _this[fn].bind(_this);});\n    } }, { key: 'setStyles', value: function setStyles()\n\n    {\n      this.dom.el.style.position = 'fixed';\n      this.dom.el.style.top = 0;\n      this.dom.el.style.left = 0;\n      this.dom.el.style.height = '100%';\n      this.dom.el.style.width = '100%';\n      this.dom.el.style.overflow = 'hidden';\n    } }, { key: 'setHeight', value: function setHeight()\n\n    {\n      document.body.style.height = this.dom.content.offsetHeight + 'px';\n    } }, { key: 'resize', value: function resize()\n\n    {\n      this.setHeight();\n      this.scroll();\n    } }, { key: 'preload', value: function preload()\n\n    {var _this2 = this;\n      this.dom.content, function (instance) {\n        _this2.setHeight();\n      };\n    } }, { key: 'scroll', value: function scroll()\n\n    {\n      this.data.current = window.scrollY;\n    } }, { key: 'run', value: function run()\n\n    {\n      this.data.last = math.lerp(this.data.last, this.data.current, this.data.ease);\n      this.data.last = Math.floor(this.data.last * 100) / 100;\n\n      var diff = this.data.current - this.data.last;\n      var acc = diff / config.width;\n      var velo = +acc;\n      var skew = velo * 1;\n\n      this.dom.content.style.transform = 'translate3d(0, -' + this.data.last.toFixed(2) + 'px, 0) skewY(' + skew + 'deg)';\n\n      this.requestAnimationFrame();\n    } }, { key: 'on', value: function on()\n\n    {var requestAnimationFrame = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.setStyles();\n      this.setHeight();\n      this.addEvents();\n\n      requestAnimationFrame && this.requestAnimationFrame();\n    } }, { key: 'off', value: function off()\n\n    {var cancelAnimationFrame = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      cancelAnimationFrame && this.cancelAnimationFrame();\n\n      this.removeEvents();\n    } }, { key: 'requestAnimationFrame', value: function (_requestAnimationFrame) {function requestAnimationFrame() {return _requestAnimationFrame.apply(this, arguments);}requestAnimationFrame.toString = function () {return _requestAnimationFrame.toString();};return requestAnimationFrame;}(function ()\n\n    {\n      this.rAF = requestAnimationFrame(this.run);\n    }) }, { key: 'cancelAnimationFrame', value: function (_cancelAnimationFrame) {function cancelAnimationFrame() {return _cancelAnimationFrame.apply(this, arguments);}cancelAnimationFrame.toString = function () {return _cancelAnimationFrame.toString();};return cancelAnimationFrame;}(function ()\n\n    {\n      cancelAnimationFrame(this.rAF);\n    }) }, { key: 'destroy', value: function destroy()\n\n    {\n      document.body.style.height = '';\n\n      this.data = null;\n\n      this.removeEvents();\n      this.cancelAnimationFrame();\n    } }, { key: 'resize', value: function resize()\n\n    {\n      this.setHeight();\n    } }, { key: 'addEvents', value: function addEvents()\n\n    {\n      window.addEventListener('resize', this.resize, { passive: true });\n      window.addEventListener('scroll', this.scroll, { passive: true });\n    } }, { key: 'removeEvents', value: function removeEvents()\n\n    {\n      window.removeEventListener('resize', this.resize, { passive: true });\n      window.removeEventListener('scroll', this.scroll, { passive: true });\n    } }, { key: 'init', value: function init()\n\n    {\n      this.preload();\n      this.on();\n    } }]);return Smooth;}();\n\n\nvar smooth = new Smooth();\n// -----  End of INERTIA SCROLLING  -----------------------------------"]}